"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80702],{632370:function(e,t,r){r.d(t,{i:function(){return a}});var i=r(379972),n=r(330567);function a(e,t,r){return a=>(0,i.v)()[e]?(0,n.jsx)(t,{...a}):(0,n.jsx)(r,{...a})}},944731:function(e,t,r){r.d(t,{r:function(){return I},Z:function(){return N}});var i={};r.r(i),r.d(i,{videPosterImage:function(){return k}});var n=r(379972),a=r(653105),l=r(851736),o=r(82318),s=r(752406);function u(e){return e.nodeType===e.DOCUMENT_NODE}function d(e,t,r){return e?Array.from(e.querySelectorAll(t)).map(r):[]}class c extends Error{constructor(e,t,r){super("VASTError("+e+")"),this.code=void 0,this.node=void 0,this.details=void 0,this.code=e,this.node=t,this.details=r||{}}}const h=e=>{if(!e)return"";const t=Array.from(e.childNodes).filter(e=>e.nodeType===e.CDATA_SECTION_NODE);return t.length?t[0].data:(e.textContent||"").trim()},p=e=>{const t=e.querySelectorAll("Tracking");return Array.from(t,e=>{var t;return{event:(null==(t=e.attributes[0])?void 0:t.value)||"",trackingUrl:h(e)}})},f=e=>{const t={},r=h(e);for(let a=0;a<e.attributes.length;a++){var i;const r=null==(i=e.attributes[a])?void 0:i.name;var n;if(r)t[r]=(null==(n=e.attributes[a])?void 0:n.value)||""}return{content:r,attributes:t}},v=e=>{const t=e.querySelectorAll("MediaFile"),r=Array.from(t,f).map(e=>{let{content:t,attributes:r}=e;return{videoSrc:t,attributes:r,width:parseInt(null==r?void 0:r.width,10)||0,height:parseInt(null==r?void 0:r.height,10)||0}}),i=e.querySelectorAll("ClosedCaptionFile"),n=Array.from(i,f).filter(e=>{let{attributes:t}=e;return"en"!==(null==t?void 0:t.lang)||"text/vtt"!==(null==t?void 0:t.type)}).map(e=>{let{content:t,attributes:r}=e;return{src:t,lang:r.language,attributes:r}}),a=e.querySelector("ClickThrough"),l=document.createElement("video");return{mediaFiles:r.filter(e=>{var t,r;return""!==l.canPlayType(null==(t=e.attributes)?void 0:t.type)&&"streaming"!==(null==e||null==(r=e.attributes)?void 0:r.delivery)}),trackFiles:n,duration:m(h(e.querySelector("Duration"))),trackingEvents:p(e),clickTracking:d(e,"ClickTracking",h),...(a?{clickThrough:h(a)}:{})}};const m=e=>{if(!e)return 0;const t=function(e){return void 0===e&&(e=""),parseInt(e,10)||0},[r,i,n=""]=e.split(":"),[a,l]=n.split(".");return t(l)+1e3*(t(a)+60*t(i)+3600*t(r))},g=e=>{var t;const r=new DOMParser().parseFromString(e,"application/xml"),i=r.querySelector("parsererror");if(i)throw new c(100,r,{xmlParsingError:i.textContent||""});!function(e){const t=e.documentElement;if(!t||"VAST"!==t.nodeName)throw new c(101,e);const r=t.getAttribute("version");if(!r||Number.isNaN(Number.parseFloat(r))||Number.parseFloat(r)<4)throw new c(102,e)}(r);const n=r.querySelector("Ad"),a=null!=(t=null==n?void 0:n.id)?t:"";if(!n)throw new c(101,r);const l=Array.from(r.getElementsByTagName("InLine"));if(null==l||!l.length){if(n.querySelector("Wrapper"))throw new c(300,r);throw new c(400,r)}return l.map(e=>((e,t)=>{const r=d(t,"Impression",h),i=d(t,"ViewableImpression",e=>({viewable:h(e.querySelector("Viewable")),notViewable:h(e.querySelector("NotViewable")),viewUndetermined:h(e.querySelector("ViewUndetermined"))}));if(r.some(e=>!e.length))throw new c(101,t);const n=Array.from(t.querySelectorAll("Creative > Linear")).map(v);if(!n.length)throw new c(200,t);if(!n.some(e=>{var t;return(null==(t=e.mediaFiles)?void 0:t.length)>0}))throw new c(403,t);return{adId:e,creatives:n,impressionBeacons:r,viewableBeacons:i}})(a,e))},w=e=>!u(e)&&e.closest("Ad")?d(e.closest("Ad"),"Error",h):u(e)?d(e,"Error",h):d(e.ownerDocument,"Error",h);class x{constructor(e,t,r){var i;void 0===t&&(t=a.UP),this.creative=void 0,this.track=void 0,this.trackingEvents=void 0,this.duration=void 0,this.alreadyTriggeredQuartiles={},this.quartiles=void 0,this.isCompleteTriggered=void 0,this.onEvent=void 0,this.alwaysFiredEvents=void 0,this.creative=e,this.track=t,this.trackingEvents=e.trackingEvents||[],this.duration=null!=(i=e.duration)?i:0,this.isCompleteTriggered=!1,this.onEvent=r,this.alwaysFiredEvents=["start","firstQuartile","midpoint","thirdQuartile","complete","resume"],this.quartiles={start:0,firstQuartile:Math.round(25*this.duration)/100,midpoint:Math.round(50*this.duration)/100,thirdQuartile:Math.round(75*this.duration)/100}}setDuration(e){this.duration=e,this.quartiles={start:0,firstQuartile:Math.round(25*this.duration)/100,midpoint:Math.round(50*this.duration)/100,thirdQuartile:Math.round(75*this.duration)/100}}fireTrackingEvent(e){const t=this.trackingEvents.filter(t=>{let{event:r}=t;return r===e});if(t){const e=t.map(e=>{let{trackingUrl:t}=e;return t});this.track(e,!0)}this.onEvent&&this.alwaysFiredEvents.includes(e)&&this.onEvent({type:e})}handleTimeUpdate(e){if(this.duration>0&&e>0)for(const t in this.quartiles){(this.quartiles[t]||0)<=e&&!this.alreadyTriggeredQuartiles[t]&&(this.fireTrackingEvent(t),this.alreadyTriggeredQuartiles[t]=!0)}}handleTracking(e,t){switch(e){case"timeupdate":this.handleTimeUpdate(t);break;case"ended":this.isCompleteTriggered||(this.fireTrackingEvent("complete"),this.isCompleteTriggered=!0);break;case"play":this.alreadyTriggeredQuartiles.start&&this.fireTrackingEvent("resume");break;case"mute":case"unmute":case"pause":this.fireTrackingEvent(e);}}}var C=r(739333),y=r(84505),j=r(715963),b=r(531053);const k=()=>"video poster image";var S=r(330567);var _=()=>(0,S.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 16 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.16247 0.755747C1.52175 1.3714 0.360107 2.95099 0.360107 4.81198C0.360107 7.21198 2.29211 9.11998 4.69211 9.11998C5.76011 9.11998 6.79211 8.74798 7.60811 7.95598C7.69211 7.87198 7.71611 7.71598 7.62011 7.63198L6.87611 6.86398C6.80411 6.79198 6.67211 6.77998 6.57611 6.86398C6.07211 7.27198 5.46011 7.54798 4.74011 7.54798C3.20411 7.54798 2.05211 6.27598 2.05211 4.77598C2.05211 3.26398 3.19211 1.97998 4.72811 1.97998C4.73679 1.97998 4.74547 1.98002 4.75415 1.98011L3.16247 0.755747ZM8.43433 4.81102C8.43433 4.81134 8.43433 4.81166 8.43433 4.81198C8.43433 7.21198 10.3663 9.11998 12.7663 9.11998C13.1372 9.11998 13.5037 9.07512 13.8584 8.98339L11.6369 7.27453C11.3279 7.12096 11.0548 6.90863 10.8287 6.65284L8.43433 4.81102ZM10.1273 4.85168L8.58624 3.66624C9.08617 1.82578 10.7632 0.47998 12.7663 0.47998C13.9783 0.47998 14.8543 0.863981 15.6703 1.59598C15.7783 1.69198 15.7783 1.83598 15.6823 1.93198L14.9503 2.68798C14.8663 2.78398 14.7463 2.78398 14.6503 2.68798C14.1463 2.24398 13.4743 1.97998 12.8023 1.97998C11.2663 1.97998 10.1263 3.26398 10.1263 4.77598C10.1263 4.80128 10.1267 4.82652 10.1273 4.85168ZM13.5144 7.45711L14.9224 8.54019C15.1909 8.37999 15.4457 8.18564 15.6823 7.95598C15.7663 7.87198 15.7903 7.71598 15.6943 7.63198L14.9503 6.86398C14.8783 6.79198 14.7463 6.77998 14.6503 6.86398C14.3185 7.13261 13.9398 7.34402 13.5144 7.45711ZM7.06324 2.49471L4.45248 0.486433C4.5318 0.48215 4.61169 0.47998 4.69211 0.47998C5.90411 0.47998 6.78011 0.863981 7.59611 1.59598C7.70411 1.69198 7.70411 1.83598 7.60811 1.93198L7.06324 2.49471Z",fill:"white"}),(0,S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.603957 0.195169C0.772324 -0.0237076 1.08625 -0.0646541 1.30512 0.103713L14.3051 10.1037C14.524 10.2721 14.5649 10.586 14.3966 10.8049C14.2282 11.0238 13.9143 11.0647 13.6954 10.8963L0.695414 0.896337C0.476537 0.72797 0.43559 0.414047 0.603957 0.195169Z",fill:"white"})]});var E=()=>(0,S.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M1 7.93911C1 10.1214 2.75678 11.8564 4.93911 11.8564C5.91024 11.8564 6.84865 11.5181 7.59064 10.798C7.66702 10.7216 7.68884 10.5797 7.60155 10.5033L6.92503 9.805C6.85956 9.73953 6.73953 9.72862 6.65224 9.805C6.19395 10.176 5.63745 10.427 4.98275 10.427C3.58606 10.427 2.53854 9.27033 2.53854 7.90637C2.53854 6.5315 3.57515 5.36396 4.97184 5.36396C5.58289 5.36396 6.19395 5.60401 6.65224 6.00774C6.73953 6.09504 6.84865 6.09504 6.92503 6.00774L7.59064 5.32031C7.67793 5.23302 7.67793 5.10208 7.57973 5.01478C6.83773 4.34917 6.04118 4 4.93911 4C2.75678 4 1 5.75678 1 7.93911Z",fill:"white"}),(0,S.jsx)("path",{d:"M8.34192 7.93911C8.34192 10.1214 10.0987 11.8564 12.281 11.8564C13.2522 11.8564 14.1906 11.5181 14.9326 10.798C15.0089 10.7216 15.0308 10.5797 14.9435 10.5033L14.2669 9.805C14.2015 9.73953 14.0814 9.72862 13.9942 9.805C13.5359 10.176 12.9794 10.427 12.3247 10.427C10.928 10.427 9.88046 9.27033 9.88046 7.90637C9.88046 6.5315 10.9171 5.36396 12.3138 5.36396C12.9248 5.36396 13.5359 5.60401 13.9942 6.00774C14.0814 6.09504 14.1906 6.09504 14.2669 6.00774L14.9326 5.32031C15.0199 5.23302 15.0199 5.10208 14.9216 5.01478C14.1797 4.34917 13.3831 4 12.281 4C10.0987 4 8.34192 5.75678 8.34192 7.93911Z",fill:"white"})]});var L=()=>(0,S.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("g",{clipPath:"url(#clip0_393_6233)",children:(0,S.jsx)("g",{filter:"url(#filter0_d_393_6233)",children:(0,S.jsx)("path",{d:"M16.5 12C16.5 10.23 15.48 8.71 14 7.97V10.18L16.45 12.63C16.48 12.43 16.5 12.22 16.5 12ZM19 12C19 12.94 18.8 13.82 18.46 14.64L19.97 16.15C20.63 14.91 21 13.5 21 12C21 7.72 18.01 4.14 14 3.23V5.29C16.89 6.15 19 8.83 19 12ZM4.27 3L3 4.27L7.73 9H3V15H7L12 20V13.27L16.25 17.52C15.58 18.04 14.83 18.45 14 18.7V20.76C15.38 20.45 16.63 19.81 17.69 18.95L19.73 21L21 19.73L4.27 3ZM12 4L9.91 6.09L12 8.18V4Z",fill:"white"})})}),(0,S.jsxs)("defs",{children:[(0,S.jsxs)("filter",{id:"filter0_d_393_6233",x:"0",y:"1",width:"24",height:"24",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,S.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,S.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,S.jsx)("feOffset",{dy:"1"}),(0,S.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,S.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,S.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0"}),(0,S.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_393_6233"}),(0,S.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_393_6233",result:"shape"})]}),(0,S.jsx)("clipPath",{id:"clip0_393_6233",children:(0,S.jsx)("rect",{width:"24",height:"24",fill:"white"})})]})]});var M=()=>(0,S.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("g",{filter:"url(#filter0_d_393_7941)",children:(0,S.jsx)("path",{d:"M6 19H10V5H6V19ZM14 5V19H18V5H14Z",fill:"white"})}),(0,S.jsx)("defs",{children:(0,S.jsxs)("filter",{id:"filter0_d_393_7941",x:"2",y:"2",width:"20",height:"22",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,S.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,S.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,S.jsx)("feOffset",{dy:"1"}),(0,S.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,S.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,S.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0"}),(0,S.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_393_7941"}),(0,S.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_393_7941",result:"shape"})]})})]});var B=()=>(0,S.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("g",{filter:"url(#filter0_d_393_7897)",children:(0,S.jsx)("path",{d:"M8 5V19L19 12L8 5Z",fill:"white"})}),(0,S.jsx)("defs",{children:(0,S.jsxs)("filter",{id:"filter0_d_393_7897",x:"4",y:"2",width:"19",height:"22",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,S.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,S.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,S.jsx)("feOffset",{dy:"1"}),(0,S.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,S.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,S.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0"}),(0,S.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_393_7897"}),(0,S.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_393_7897",result:"shape"})]})})]});var T=e=>{let{time:t}=e;return(0,S.jsx)("div",{className:"absolute top-0 left-0 pt3 pl3 z-2","aria-label":"time-progress",children:(0,S.jsxs)("span",{className:"white pv1 ph2 br1 f7",children:["Ad ",t]})})};var A=()=>(0,S.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("g",{clipPath:"url(#clip0_393_7939)",children:(0,S.jsx)("g",{filter:"url(#filter0_d_393_7939)",children:(0,S.jsx)("path",{d:"M3 9.00047V15.0005H7L12 20.0005V4.00047L7 9.00047H3ZM16.5 12.0005C16.5 10.2305 15.48 8.71047 14 7.97047V16.0205C15.48 15.2905 16.5 13.7705 16.5 12.0005ZM14 3.23047V5.29047C16.89 6.15047 19 8.83047 19 12.0005C19 15.1705 16.89 17.8505 14 18.7105V20.7705C18.01 19.8605 21 16.2805 21 12.0005C21 7.72047 18.01 4.14047 14 3.23047Z",fill:"white"})})}),(0,S.jsxs)("defs",{children:[(0,S.jsxs)("filter",{id:"filter0_d_393_7939",x:"0",y:"1.23047",width:"24",height:"23.54",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,S.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,S.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,S.jsx)("feOffset",{dy:"1"}),(0,S.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,S.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,S.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0"}),(0,S.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_393_7939"}),(0,S.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_393_7939",result:"shape"})]}),(0,S.jsx)("clipPath",{id:"clip0_393_7939",children:(0,S.jsx)("rect",{width:"24",height:"24",fill:"white"})})]})]});function F(e,t,r){(0,s.useEffect)(()=>e?(t.forEach(t=>{e.addEventListener(t,r)}),()=>{t.forEach(t=>{e.removeEventListener(t,r)})}):()=>{},[e,t,r])}const P=["ended","play","pause","timeupdate"],V=(0,s.forwardRef)((e,t)=>{let{onEvent:r,onError:a,onLoadStart:l,onLoadedData:o,objectFit:u="cover",showContextMenu:d,paused:c,muted:h=!0,autoPlay:p,loop:f,onClick:v,showPlayButton:m,showCountdown:g,showMuteButton:w=!0,showCCButton:x=!0,endState:k,poster:V,tracks:I,...N}=e;const O=(0,s.useRef)(null),{0:Z,1:D}=(0,s.useState)(h),{0:R,1:q}=(0,s.useState)(!0),{0:U,1:G}=(0,s.useState)(""),{0:H,1:Q}=(0,s.useState)(!1),{0:z,1:W}=(0,s.useState)(x);(0,s.useImperativeHandle)(t,()=>O.current);const X=(0,s.useMemo)(()=>e=>{v&&v(e)},[v]),J=(0,s.useMemo)(()=>e=>{r&&r({type:e.type})},[r]);F(O.current,P,J),(0,s.useEffect)(()=>{O.current&&(c?O.current.pause():O.current.paused&&O.current.play())},[O,c]),F(O.current,["contextmenu"],e=>{d||e.preventDefault()}),F(O.current,["timeupdate"],e=>{if(O.current){const e=function(e){if(!e||isNaN(e))return"0:00";const t=e%60;return Math.floor(e/60)+":"+(t<10?"0":"")+t}(Math.floor(O.current.duration-O.current.currentTime));G(e)}});return(0,S.jsxs)("div",{className:"relative skeleton-bone",children:[!H&&(0,S.jsx)("div",{className:"absolute flex items-center justify-center h-100 w-100 z-3",children:(0,S.jsx)(C.Spinner,{a11yLabel:"loading",color:"gray",size:"large"})}),V&&H&&(0,S.jsx)(b.Z,{style:{objectFit:"cover"},className:"absolute overflow-hidden z-1 "+(R?"db":"dn"),alt:(0,y.m)(i,"videPosterImage"),src:V,preload:!0,loading:"eager",height:"auto",width:"auto"}),(0,S.jsx)("video",{ref:O,className:"db relative","data-testid":"VideoEl",style:{objectFit:u,...N.style},muted:Z,autoPlay:p,loop:f,onClick:X,onPlay:()=>q(!1),onPause:()=>q(!0),onLoadStart:l,onLoadedData:e=>{Q(!0),o&&o(e)},onEnded:()=>{const e=O.current;if(!f&&e&&k)switch(k){case"rewind":e.pause(),e.currentTime=0;break;case"play":e.play(),e.currentTime=0;}},onError:a,crossOrigin:"anonymous",...N,children:(0,n.v)().videoCCEnable&&(I||[]).map((e,t)=>(0,S.jsx)("track",{default:0===t,src:null==e?void 0:e.src,srcLang:null==e?void 0:e.lang,kind:"captions"},t))}),(0,n.v)().videoCCEnable&&x&&H&&(0,S.jsx)(j.Z,{className:"absolute pointer top-0 right-0 pt3 pr7 mr4 z-2 white b--none outline-0","aria-label":"captions",onClick:e=>{e.preventDefault(),e.stopPropagation();const t=O.current,r=null==t?void 0:t.textTracks;null!=r&&r[0]&&(r[0].mode="showing"===r[0].mode?"hidden":"showing"),W(!z)},variant:"tertiary",children:z?(0,S.jsx)(E,{}):(0,S.jsx)(_,{})}),g&&H&&(0,S.jsx)(T,{time:U}),m&&H&&(0,S.jsx)(j.Z,{className:"absolute pointer top-0 right-0 pt3 pr6 z-2","aria-label":"Play video",onClick:e=>{e.preventDefault(),e.stopPropagation();const t=O.current;t&&(t.paused?t.play():t.pause())},variant:"tertiary",children:R?(0,S.jsx)(B,{}):(0,S.jsx)(M,{})}),w&&H&&(0,S.jsx)(j.Z,{className:"absolute pointer top-0 right-0 pt3 pr2 z-2","aria-label":"Mute video",onClick:e=>{e.preventDefault(),e.stopPropagation();const t=!Z;D(t),J(new CustomEvent(t?"mute":"unmute"))},variant:"tertiary",children:Z?(0,S.jsx)(L,{}):(0,S.jsx)(A,{})})]})});const I=(0,s.forwardRef)((e,t)=>{var r;let{vasttag:i,configPreset:u="default",enableTracking:d=!0,redirectsOnClick:h,loop:p,onEvent:f,onClick:v,...m}=e;const{enableVASTErrorEx:C,ipBr1VideoTimeoutMs:y}=(0,n.v)(),{0:j,1:b}=(0,s.useState)(!0),{0:k,1:_}=(0,s.useState)(!1),E=(0,s.useRef)(),{0:L,1:M}=(0,s.useState)(!1),{0:B,1:T}=(0,s.useState)(),A=(0,s.useRef)(null),F=(0,s.useRef)(),P=(0,s.useMemo)(()=>{try{return g(i)}catch(e){return T(e),[]}},[i]),I=null==P?void 0:P[0],N=(null==I?void 0:I.creatives)&&I.creatives[0],O=(0,s.useMemo)(()=>d?async function(){try{await(0,a.UP)(...arguments)}catch(e){}}:async()=>{},[d]),Z=(0,s.useMemo)(()=>N?new x(N,O,f):null,[N,f,O]);(0,s.useEffect)(()=>{if(B&&B instanceof c){const e=B.node?w(B.node):(e=>{const t=new DOMParser().parseFromString(e,"application/xml"),r=t.querySelector("parsererror");if(r)throw new c(100,t,{xmlParsingError:r.textContent||""});return w(t)})(i);O(e.map(e=>((e,t)=>{let r=e;return Object.entries(t).forEach(e=>{let[t,i]=e;r=r.replace(new RegExp("\\["+t+"\\]","g"),i)}),r})(e,{ERRORCODE:B.code.toString()}))),f&&f({type:"vast_error",error:B,code:B.code})}},[B,O,i,f]);const D=(0,s.useCallback)(async e=>{var t;if(Z&&null!=N&&null!=(t=N.clickTracking)&&t.length){const e=N.clickTracking.reduce((e,t)=>[...e,O(t)],[]);await Promise.all(e)}v&&v(e),h&&null!=N&&N.clickThrough&&(window.location.href=N.clickThrough)},[Z,null==N?void 0:N.clickTracking,null==N?void 0:N.clickThrough,v,h,O]),R=(0,s.useCallback)(e=>{var t,r,i,n;("play"===e.type&&Z&&null!=I&&null!=(t=I.impressionBeacons)&&t.length&&(O(I.impressionBeacons),M(!1)),"ended"===e.type&&M(!0),e.type&&Z&&null!=(r=A.current)&&r.duration)&&(Z.setDuration(null==(i=A.current)?void 0:i.duration),Z.handleTracking(e.type,null==(n=A.current)?void 0:n.currentTime));f&&f(e)},[I,f,O,Z]),q=(0,s.useCallback)(()=>{C&&(F.current=setTimeout(()=>{T(new c(402))},y))},[T,y,C]),U=(0,s.useCallback)(()=>{C&&F.current&&(clearTimeout(F.current),F.current=void 0)},[C]),G=(0,s.useCallback)(()=>{if(C&&A.current&&A.current.error){const e=A.current.error;U(),3===e.code||4===e.code?T(new c(405)):2===e.code?T(new c(402)):T(new c(400))}},[A,T,U,C]);(0,l.F)(()=>{null==I||!I.viewableBeacons||k||"IntersectionObserver"in window||(O(I.viewableBeacons.map(e=>{let{viewUndetermined:t}=e;return t||""}).filter(Boolean)),_(!0))},()=>{E.current&&clearTimeout(E.current),null!=I&&I.viewableBeacons&&!k&&O(I.viewableBeacons.map(e=>{let{notViewable:t}=e;return t||""}).filter(Boolean))}),(0,o.P)(A,e=>{k||(e.isIntersecting&&null!=I&&I.viewableBeacons?E.current=setTimeout(()=>{O(I.viewableBeacons.map(e=>{let{viewable:t}=e;return t||""}).filter(Boolean)),_(!0)},2e3):E.current&&clearTimeout(E.current))},{threshold:.5}),(0,o.P)(A,e=>{L||b(!e.isIntersecting)},{threshold:.5,rootMargin:"-130px 0px 0px 0px"}),(0,s.useImperativeHandle)(t,()=>A.current);const H=(0,s.useMemo)(()=>{var e,t;return function(e,t,r){let{width:i}=e,{optimalScale:n=1}=void 0===r?{}:r;if(!t.length)return;let a=t[0];for(let d=1;d<t.length;d++){var l;const e=t[d];o=i,s=((null==(l=a)?void 0:l.width)||0)/n,u=((null==e?void 0:e.width)||0)/n,Math.abs(u-o)<Math.abs(s-o)&&(a=e)}var o,s,u;return a}({width:parseInt((null==(e=m.width)?void 0:e.toString())||"",10)||(null==(t=A.current)?void 0:t.getBoundingClientRect().width)},(null==N?void 0:N.mediaFiles)||[])},[A.current,m.width,null==N?void 0:N.mediaFiles]),Q=function(e){switch(void 0===e&&(e="default"),e){case"default":return{autoPlay:!0,muted:!0,loop:!1,showPlayButton:!0,showCountdown:!0,showMuteButton:!0,endState:"rewind"};case"configPreset1":return{autoPlay:!0,muted:!0,loop:!1,showPlayButton:!0,showCountdown:!0,showMuteButton:!0,endState:"play"};}}(u);return B?(0,S.jsx)("span",{className:"dn","data-ads-error":B,"data-testid":"VASTErrorBoundary"}):(0,S.jsx)(V,{...m,...Q,onClick:D,src:null==H?void 0:H.videoSrc,paused:j,onEvent:R,onError:G,onLoadStart:q,onLoadedData:U,tracks:null==N||null==(r=N.trackFiles)?void 0:r.map(e=>({src:null==e?void 0:e.src,lang:null==e?void 0:e.lang,attributes:null==e?void 0:e.attributes})),ref:A,loop:p})});var N=I}}]);