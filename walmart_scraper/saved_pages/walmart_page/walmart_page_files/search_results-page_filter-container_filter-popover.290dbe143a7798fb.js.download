(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81745],{257301:function(e,t,n){"use strict";n.d(t,{J:function(){return b}});var s=n(752406);const o=function(e,t,n){void 0===n&&(n=!1);const o=n=>{(Array.isArray(e)?e:[e]).some((e=>{var t;return null==(t=e.current)?void 0:t.contains(n.target)}))||t(n)};!function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1),s.useEffect((()=>(window.PointerEvent?document.addEventListener("pointerdown",e,n):(document.addEventListener("mousedown",e,n),document.addEventListener("touchstart",e,n)),()=>{window.PointerEvent?document.removeEventListener("pointerdown",e,n):(document.removeEventListener("mousedown",e,n),document.removeEventListener("touchstart",e,n))})),[e,...t,n])}(o,[e,o],n)};var r=n(894358),i=n.n(r),l=n(244703),a=n(227097),c=n.n(a),d=n(330567);const u=e=>{const{children:t,className:n,nubbin:s,...o}=e;return(0,d.jsx)("div",{className:i()(c().popover,s&&c().nubbin,"top"===s&&c().top,"right"===s&&c().right,"left"===s&&c().left,"bottom"===s&&c().bottom,n),...o,children:(0,d.jsx)("div",{className:c().content,children:t})})},p=e=>{var t,n;let{popoverRef:s,position:o="bottom",triggerRef:r}=e;const{left:i=0,width:l=0,height:a=0,top:c=0}=(null==(t=r.current)?void 0:t.getBoundingClientRect())||{},{width:d=0,height:u=0}=(null==(n=s.current)?void 0:n.getBoundingClientRect())||{},p=(a-u)/2,f=(l-d)/2,{left:m,top:v}={..."top"===o&&{left:i+f,top:window.scrollY+c-u},..."right"===o&&{left:i+l,top:window.scrollY+c+p},..."bottom"===o&&{left:i+f,top:window.scrollY+c+a},..."left"===o&&{left:i-d,top:window.scrollY+c+p}};return{transform:"translate3d("+m+"px, "+v+"px, 0)"}},f=e=>{const{children:t,onGuard:n,...o}=e,r=s.useRef(null);return s.useEffect((()=>{var e;const t=(null==(e=r.current)?void 0:e.querySelectorAll("a[href], button:enabled, input:enabled:not([type=hidden]), select:enabled, textarea:enabled, [tabindex], [autofocus]"))||[];setTimeout((()=>t[1].focus()),0)}),[]),(0,d.jsxs)("div",{ref:r,...o,children:[(0,d.jsx)("div",{tabIndex:0,onFocus:n}),(0,d.jsx)("div",{tabIndex:-1}),t,(0,d.jsx)("div",{tabIndex:0,onFocus:n})]})};var m=n(629623),v=n.n(m);const h=e=>{const{basePopoverProps:t={},className:n,content:r,hasNubbin:a=!1,onClose:c,position:m="bottom",triggerRef:h,...b}=function(e,t,n){void 0===n&&(n=!1);const s={};for(const o in e)if(e.hasOwnProperty(o)){const t=e[o];"UNSAFE_className"===o||"className"===o?s.className=i()(s.className,t):"UNSAFE_style"===o||"style"===o?s.style=s.style?{...s.style,...t}:t:s[o]=t}return s}(e),[w,x]=s.useState({}),g=s.useRef(null),y=function(e){void 0===e&&(e={});const{a11yHidden:t=!0}=e,n=s.useRef(null),o=document.body;return n.current||(n.current=document.createElement("div")),s.useEffect((()=>{if(!t)return()=>{};const e=Array.from(o.children).filter((e=>e.innerHTML&&[null,"false"].includes(e.getAttribute("aria-hidden"))));return e.forEach((e=>e.setAttribute("aria-hidden","true"))),()=>{e.forEach((e=>e.removeAttribute("aria-hidden")))}}),[t,o]),s.useEffect((()=>(o.appendChild(n.current),()=>{n.current&&o.removeChild(n.current)})),[o,n]),n}({a11yHidden:!1}),E=s.useCallback((e=>{var t;null==h||null==(t=h.current)||t.focus(),c(e)}),[]);var j,N;o([g,h],c),j=["Esc","Escape"],N=E,s.useEffect((()=>{const e=e=>{j.includes(e.key)&&"function"===typeof N&&N(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[j,N]),s.useEffect((()=>{var e;x(p({popoverRef:g,position:m,triggerRef:h})),null==(e=g.current)||e.style.removeProperty("visibility")}),[]),s.useEffect((()=>{const e=()=>{x(p({popoverRef:g,position:m,triggerRef:h}))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const R={bottom:"top",left:"right",right:"left",top:"bottom"}[m];return l.createPortal((0,d.jsx)("div",{className:i()(v().popover,"top"===m&&v().top,"right"===m&&v().right,"bottom"===m&&v().bottom,"left"===m&&v().left,n),ref:g,style:{visibility:"hidden",...w},...b,children:(0,d.jsx)(f,{onGuard:E,children:(0,d.jsx)(u,{...a&&{nubbin:R},...t,children:r})})}),y.current)},b=e=>{const{children:t,isOpen:n,triggerRef:o,...r}=e,i=s.Children.only(t);return(0,d.jsxs)(s.Fragment,{children:[s.cloneElement(i,{"aria-expanded":n,"aria-haspopup":!0}),n&&(0,d.jsx)(h,{...r,triggerRef:o})]})}},302506:function(e,t,n){"use strict";n.r(t);var s=n(739333),o=n(257301),r=n(567222),i=n(870751),l=n(84505),a=n(548428),c=n(564542),d=n(715963),u=n(321952),p=n(752406),f=n(43541),m=n(146570),v=n(747761),h=n(297239),b=n(455417),w=n(548325),x=n(330567);const g=e=>{let{type:t,isOpen:n,onViewResults:o,facets:i,enableTopNavUpdateGQLCall:c}=e;const{onViewResultsFn:g,onClear:y,onSelect:E,checkIsSelected:j,facetDataByType:N,isLoading:R,getSelectedValues:C}=(0,b.U)(i,n,t,o),k=h.dk[t],L="brand"!==t,_=h.Ee[t],{searchAnalyticsData:S}=(0,f.l)(_),{pageContext:A}=(0,a.A)(),O=(0,m._)(_),P=N.facets&&N.facets[0].values,V=(0,p.useCallback)((()=>{y(!0)}),[y]);return(0,x.jsxs)("div",{className:"pv3 pt4",children:[R&&!L&&(0,x.jsx)(u.g,{className:"flex justify-center items-center fixed absolute--fill w-100 h-100 z-max",children:(0,x.jsx)(s.Spinner,{a11yLabel:(0,l.m)(w,"viewResults")})}),k&&(0,x.jsxs)("div",{className:"flex flex-column",children:[(0,x.jsxs)("div",{className:"overflow-y-auto items-start ph3",style:{width:"365px",maxHeight:"340px"},children:["fulfillment_method"===t&&(0,x.jsx)("h2",{className:"ma0 tc mb3 f3",children:N.title}),(0,x.jsx)(r.ZP,{moduleContext:A,pageTitle:(0,v.pz)(A),moduleViewExtras:{val:P&&P.map((e=>e.name)),...S},moduleLinkExtras:S,name:_||"",shouldSetOverlay:!0,children:(0,x.jsx)(k,{facets:N.facets,selectedDeptObject:N.selectedDeptObject,onSelect:E,onClear:y,showSearchBar:"brand"===t,checkIsSelected:j,isMobile:!1,showAllOptions:!0,getSelectedValues:C,onViewResultsFn:c?g:void 0})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(s.Divider,{}),(0,x.jsxs)("div",{className:"items-end ph3",children:[(0,x.jsx)(d.Z,{className:"w-100",onClick:V,onLinkName:"clear"+t+"Selection",onLinkExtras:S,size:"small",variant:"tertiary",disabled:R||!j(!0,t),children:(0,l.m)(w,"clear")}),!c&&(0,x.jsx)(d.Z,{className:"mt3",disabled:R&&L,isFullWidth:!0,onClick:g,variant:"primary",size:"medium",onLinkName:"viewResults",onLinkExtras:O,children:R&&L?(0,x.jsx)(s.Spinner,{size:"small",color:"white",a11yLabel:(0,l.m)(w,"viewResults")}):(0,l.m)(w,"viewResults")})]})]})]})]})};t.default=e=>{var t;let{type:n,isOpen:s,children:r,onViewResults:l,onClose:a,facets:d,triggerRef:u}=e;const{enableMaxWidth:p,enableTopNavUpdateGQLCall:f}=(null==(t=(0,i.iC)(c.a8).search)?void 0:t.values)||{},m=n===(d&&d[0].type)&&p;return u?(0,x.jsx)(o.J,{...m&&{className:"brand-filter-popover"},content:(0,x.jsx)(g,{type:n,facets:d,isOpen:s,onClose:a,onViewResults:l,enableTopNavUpdateGQLCall:f}),hasNubbin:!0,isOpen:s,onClose:a,position:"bottom",triggerRef:u,basePopoverProps:{...m&&{className:"brand-filter-popover-content"}},children:r}):null}},227097:function(e){e.exports={popover:"w_zrDN",nubbin:"w_kMCZ",top:"w_kk_u",right:"w_QnkK",bottom:"w_QjG9",left:"w_GVYQ",content:"w_J231"}},629623:function(e){e.exports={popover:"w_abvm",top:"w_5f6X",right:"w_Bl6z",bottom:"w_fGoV",left:"w__T9u"}}}]);