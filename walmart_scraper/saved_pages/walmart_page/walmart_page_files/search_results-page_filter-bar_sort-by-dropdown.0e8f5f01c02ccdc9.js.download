(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29163],{257301:function(e,t,n){"use strict";n.d(t,{J:function(){return b}});var o=n(752406);const r=function(e,t,n){void 0===n&&(n=!1);const r=n=>{(Array.isArray(e)?e:[e]).some((e=>{var t;return null==(t=e.current)?void 0:t.contains(n.target)}))||t(n)};!function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1),o.useEffect((()=>(window.PointerEvent?document.addEventListener("pointerdown",e,n):(document.addEventListener("mousedown",e,n),document.addEventListener("touchstart",e,n)),()=>{window.PointerEvent?document.removeEventListener("pointerdown",e,n):(document.removeEventListener("mousedown",e,n),document.removeEventListener("touchstart",e,n))})),[e,...t,n])}(r,[e,r],n)};var s=n(894358),i=n.n(s),l=n(244703),a=n(227097),c=n.n(a),u=n(330567);const d=e=>{const{children:t,className:n,nubbin:o,...r}=e;return(0,u.jsx)("div",{className:i()(c().popover,o&&c().nubbin,"top"===o&&c().top,"right"===o&&c().right,"left"===o&&c().left,"bottom"===o&&c().bottom,n),...r,children:(0,u.jsx)("div",{className:c().content,children:t})})},f=e=>{var t,n;let{popoverRef:o,position:r="bottom",triggerRef:s}=e;const{left:i=0,width:l=0,height:a=0,top:c=0}=(null==(t=s.current)?void 0:t.getBoundingClientRect())||{},{width:u=0,height:d=0}=(null==(n=o.current)?void 0:n.getBoundingClientRect())||{},f=(a-d)/2,p=(l-u)/2,{left:m,top:v}={..."top"===r&&{left:i+p,top:window.scrollY+c-d},..."right"===r&&{left:i+l,top:window.scrollY+c+f},..."bottom"===r&&{left:i+p,top:window.scrollY+c+a},..."left"===r&&{left:i-u,top:window.scrollY+c+f}};return{transform:"translate3d("+m+"px, "+v+"px, 0)"}},p=e=>{const{children:t,onGuard:n,...r}=e,s=o.useRef(null);return o.useEffect((()=>{var e;const t=(null==(e=s.current)?void 0:e.querySelectorAll("a[href], button:enabled, input:enabled:not([type=hidden]), select:enabled, textarea:enabled, [tabindex], [autofocus]"))||[];setTimeout((()=>t[1].focus()),0)}),[]),(0,u.jsxs)("div",{ref:s,...r,children:[(0,u.jsx)("div",{tabIndex:0,onFocus:n}),(0,u.jsx)("div",{tabIndex:-1}),t,(0,u.jsx)("div",{tabIndex:0,onFocus:n})]})};var m=n(629623),v=n.n(m);const h=e=>{const{basePopoverProps:t={},className:n,content:s,hasNubbin:a=!1,onClose:c,position:m="bottom",triggerRef:h,...b}=function(e,t,n){void 0===n&&(n=!1);const o={};for(const r in e)if(e.hasOwnProperty(r)){const t=e[r];"UNSAFE_className"===r||"className"===r?o.className=i()(o.className,t):"UNSAFE_style"===r||"style"===r?o.style=o.style?{...o.style,...t}:t:o[r]=t}return o}(e),[w,g]=o.useState({}),y=o.useRef(null),x=function(e){void 0===e&&(e={});const{a11yHidden:t=!0}=e,n=o.useRef(null),r=document.body;return n.current||(n.current=document.createElement("div")),o.useEffect((()=>{if(!t)return()=>{};const e=Array.from(r.children).filter((e=>e.innerHTML&&[null,"false"].includes(e.getAttribute("aria-hidden"))));return e.forEach((e=>e.setAttribute("aria-hidden","true"))),()=>{e.forEach((e=>e.removeAttribute("aria-hidden")))}}),[t,r]),o.useEffect((()=>(r.appendChild(n.current),()=>{n.current&&r.removeChild(n.current)})),[r,n]),n}({a11yHidden:!1}),E=o.useCallback((e=>{var t;null==h||null==(t=h.current)||t.focus(),c(e)}),[]);var N,j;r([y,h],c),N=["Esc","Escape"],j=E,o.useEffect((()=>{const e=e=>{N.includes(e.key)&&"function"===typeof j&&j(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[N,j]),o.useEffect((()=>{var e;g(f({popoverRef:y,position:m,triggerRef:h})),null==(e=y.current)||e.style.removeProperty("visibility")}),[]),o.useEffect((()=>{const e=()=>{g(f({popoverRef:y,position:m,triggerRef:h}))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const _={bottom:"top",left:"right",right:"left",top:"bottom"}[m];return l.createPortal((0,u.jsx)("div",{className:i()(v().popover,"top"===m&&v().top,"right"===m&&v().right,"bottom"===m&&v().bottom,"left"===m&&v().left,n),ref:y,style:{visibility:"hidden",...w},...b,children:(0,u.jsx)(p,{onGuard:E,children:(0,u.jsx)(d,{...a&&{nubbin:_},...t,children:s})})}),x.current)},b=e=>{const{children:t,isOpen:n,triggerRef:r,...s}=e,i=o.Children.only(t);return(0,u.jsxs)(o.Fragment,{children:[o.cloneElement(i,{"aria-expanded":n,"aria-haspopup":!0}),n&&(0,u.jsx)(h,{...s,triggerRef:r})]})}},243090:function(e,t,n){"use strict";n.r(t),n.d(t,{SortByDropdown:function(){return x}});var o=n(739333),r=n(257301),s=n(84505),i=n(272374),l=n(548428),a=n(347688),c=n(417565),u=n(715963),d=n(436279),f=n(894358),p=n.n(f),m=n(752406),v=n(551263),h=n(297239),b=n(173042),w=n(330567);const g=()=>null,y=e=>{let{handleOnChange:t,value:n}=e;const{isSelected:r=!1}=n,i=n.id||"",l=n.name,a=Boolean(r),c=(0,m.useCallback)((e=>{"Enter"!==e.code&&"Space"!==e.code||(e.preventDefault(),t(i))}),[t,i]);return l?(0,w.jsx)("div",{className:"flex justify-between pl1 pr4 hover-bg-washed-blue",onMouseDown:()=>t(i),children:(0,w.jsxs)("label",{className:"f6 mid-gray pv2 pointer relative w-100",htmlFor:i,children:[(0,w.jsx)("input",{checked:a,className:"absolute input-reset w1 h1",id:i,name:"sort-by",onKeyDown:c,onChange:g,type:"radio",value:l}),(0,w.jsx)(d.J,{className:p()("mr1",!a&&"o-0"),name:"Check",size:"small"}),(0,w.jsx)(o.VisuallyHidden,{children:(0,s.m)(b,"sortBy")}),l]})}):null},x=e=>{var t,n;let{facet:f,ccmTopicPageSortBy:p}=e;const{router:g}=(0,i.t)(),{isFetching:x}=(0,l.A)();let E="best_match";const N=(0,a.j)(g.pathname);"TopicPage"!==N&&"B2BTopicPage"!==N||!(0,v.hN)(p||"")||(E=p||E);const j=null==(t=f.values)?void 0:t.find((e=>e.id===E)),{0:_,1:C}=(0,m.useState)(null==j?void 0:j.id),{0:R,1:k}=(0,m.useState)(!1),{type:L,values:S}=f,B=(0,m.useRef)(),{0:A,1:P}=(0,m.useState)(),T=(0,m.useRef)(!1);(0,m.useEffect)((()=>{const e=g.query.sort;C((()=>"string"===typeof e?e:null==j?void 0:j.id))}),[null==j?void 0:j.id,g.query.sort]);const q=null==(n=f.values)?void 0:n.find((e=>e.id===_)),F=e=>{const t={name:L||"",type:"sort",value:e||"",selectionType:h.RT.SINGLE_SELECT};L&&e&&(e=>{C(e.value),k(!1),g.push({query:(0,c.cR)({...g.query,page:"",sort:e.value})})})(t)};return(0,m.useEffect)((()=>{if(T.current&&!x&&g.query.sort!==A){const e=g.query.sort;P("string"===typeof e?e:E),B.current.focus()}else T.current=!0}),[g.query.sort,A,x,E]),(0,w.jsxs)("div",{className:"dark-gray flex flex-row items-center ml-auto flex-shrink-0",children:[(0,w.jsx)("span",{className:"b mh2",children:(0,s.m)(b,"sortBy")}),"|",(0,w.jsx)(r.J,{content:(0,w.jsx)(o.FormGroup,{role:"radiogroup",children:null==S?void 0:S.map(((e,t)=>(0,w.jsx)(y,{handleOnChange:F,value:e},t)))}),hasNubbin:!0,isOpen:R,onClose:()=>k(!1),position:"bottom",triggerRef:B,children:(0,w.jsxs)(u.Z,{useLDButton:!1,className:"bw0 bg-white sans-serif pointer pa1",onClick:()=>{k(!R)},"aria-label":(0,s.m)(b,"sortBySelection",{selection:q?q.name:"selection"}),"aria-expanded":R,buttonRef:B,onLinkName:q&&q.name||E,children:[q&&q.name,(0,w.jsx)(d.J,{"arial-hiden":"true",className:"pa0 ml6",name:R?"ChevronUp":"ChevronDown",role:"img",size:"small"})]})})]})}},227097:function(e){e.exports={popover:"w_zrDN",nubbin:"w_kMCZ",top:"w_kk_u",right:"w_QnkK",bottom:"w_QjG9",left:"w_GVYQ",content:"w_J231"}},629623:function(e){e.exports={popover:"w_abvm",top:"w_5f6X",right:"w_Bl6z",bottom:"w_fGoV",left:"w__T9u"}}}]);